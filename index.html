<!DOCTYPE html>
<html>
   <head>
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <title>Samimi Selamlama Sitesi</title>
      <script src="kelimeler.js"></script>
      <script src="tamlama.js"></script>
      <script src="samimi.js"></script>
      <script src="kuyruk.js"></script>
      <link rel="stylesheet" type="text/css" href="style.css">
      </style>
   </head>
   <body>
      <div class="vertical">
         <h1 id="selam"></h1>
         <div class="horizontal">
            <button class="yineButton" onclick="regreet()">OLMADI YİNE</button>
         </div>
      </div>
      
      <div id="footer">
         bu boktan projeye ilham olan merve ve yağmur'a teşekkürler
      </div>
      <div id="sharebox">
         <a id="twitter" href="#" class="tweetButton"></a>
         <a id="whatsapp" href="whatsapp://send" data-text="" class="whatsappButton wa_btn" style="display:none"></a>
      </div>
      <script type="text/javascript">
         function setTwitterLink(greeting) {
            const baseTweetUrl = "https://twitter.com/intent/tweet?";
            const samimiUrl = "https://deterjan.github.io/samimi-selam/";
            let tweetUrl = baseTweetUrl + "text=" + greeting + " " + samimiUrl;
            document.getElementById("twitter").href = tweetUrl;
         }

         function setWhatsappLink(greeting) {
            document.getElementById("whatsapp").dataset.text = greeting;
         }

         function regreet() {
            const greeting = makeGreeting();
            document.getElementById("selam").innerText = greeting;
            addGreetingToQueue(greeting);
            setTwitterLink(greeting);
            setWhatsappLink(greeting);
         }

         function previousGreeting() {
            const greeting = getPreviousGreeting();
            if (greeting) {
               document.getElementById("selam").innerText = greeting;
               setTwitterLink(greeting);
            }
         }

         function nextGreeting() {
            const greeting = getNextGreeting();
            if (greeting) {
               document.getElementById("selam").innerText = greeting;
               setTwitterLink(greeting);
            }
         }
         
         function copySelam(){
            var range = document.createRange();
            range.selectNodeContents(document.getElementById("selam"));
            var selection = window.getSelection();
            selection.removeAllRanges();
            selection.addRange(range);
            document.execCommand("copy");
            alert("muhteşem selamı kopyaladınız");
         }
         document.getElementById("selam").addEventListener("click", copySelam);

         regreet();
      </script>
      <script type="text/javascript">
         if(typeof wabtn4fg==="undefined"){wabtn4fg=1;h=document.head||document.getElementsByTagName("head")[0],s=document.createElement("script");s.type="text/javascript";s.src="dist/whatsapp-button.js";h.appendChild(s);}
      </script>
   </body>
</html>